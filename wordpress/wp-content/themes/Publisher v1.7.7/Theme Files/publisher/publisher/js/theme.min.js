var Publisher_Theme=function(e){"use strict";return{init:function(){this.prettyPhotoSettings={social_tools:!1,show_title:!1,markup:'<div class="pp_pic_holder"> <div class="ppt"></div> <div class="pp_content_container"> <div class="pp_content"> <div class="pp_loaderIcon"></div> <div class="pp_fade"> <a href="#" class="pp_expand" title="'+publisher_theme_global_loc.translations.lightbox_expand+'"></a> <a class="pp_close" href="#" title="'+publisher_theme_global_loc.translations.lightbox_close+'"></a> <div class="pp_hoverContainer"> <a class="pp_next" href="#"><i class="fa fa-chevron-right"></i></a> <a class="pp_previous" href="#"><i class="fa fa-chevron-left"></i></a> </div> <div id="pp_full_res"></div> <div class="pp_details"> <div class="pp_nav"> <a href="#" class="pp_arrow_previous"><i class="fa fa-backward"></i></a> <p class="currentTextHolder">0/0</p> <a href="#" class="pp_arrow_next"><i class="fa fa-forward"></i></a> </div> <p class="pp_description"></p> </div> </div> </div> </div> </div> <div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> <a href="#" class="pp_arrow_previous"><i class="fa fa-chevron-left"></i></a> <div> <ul> {gallery} </ul> </div> <a href="#" class="pp_arrow_next"><i class="fa fa-chevron-right"></i></a> </div>'},this.setup_responsive_header(),this.back_to_top(),this.handleAjaxifiedComments(),this.setup_post();var t=e(document.body).attr("class"),a=t.toString().match(/\bpostid\-(\d+)\b/i);a&&this.handleInfinitySinglePostLoading(a[1]),this.woo_commerce(),this.visual_composer()},fix_element_query:function(){"function"==typeof elementQuery&&elementQuery({".listing":{"max-width":["450px","560px","900px","1000px"]},".listing-item-blog":{"max-width":["420px","560px"]},".listing-modern-grid":{"max-width":["980px","780px","620px","480px","370px"]},".listing-mg-3-item":{"max-width":["300px","250px"]},".listing-mg-4-item":{"max-width":["250px"]},".bs-slider":{"max-width":["370px"]},".bs-slider-item":{"max-width":["780px","520px","370px"]},".listing-item-classic":{"max-width":["380px"]},".bs-shortcode-row":{"max-width":["450px","600px","700px"]}})},is_rtl:function(){return e("body").hasClass("rtl")},setup_responsive_header:function(){e(".responsive-header .menu-container .menu-handler").click(function(t){t.preventDefault();var a=e(this).parent();a.hasClass("close")&&e(".responsive-header .search-container").removeClass("open").addClass("close"),a.toggleClass("open").toggleClass("close")}),e(".responsive-header .search-container .search-handler").click(function(t){t.preventDefault();var a=e(this).parent();a.hasClass("close")&&e(".responsive-header .menu-container").removeClass("open").addClass("close"),a.toggleClass("open").toggleClass("close")}),e(".responsive-header .menu-container .menu-box").is(":empty")&&e(".responsive-header .menu-container .menu-box").html(e(".main-menu.menu").clone().removeClass("main-menu").addClass("resp-menu").prop("id","resp-navigation")),e(".responsive-header .menu-container .menu-box .mega-menu.mega-grid-posts").remove(),e(".responsive-header .menu-container .resp-menu li > a").each(function(){var t=e(this).parent();if(!t.hasClass("menu-item-mega-grid-posts")&&t.children("ul,.mega-menu").length>0&&t.append('<span class="children-button"><i class="fa fa-angle-down"></i></span>'),t.hasClass("menu-item-mega-tabbed-grid-posts")){t.find(".tab-content").remove();var a=t.find(".tabs-section").removeClass("tabs-section").addClass("sub-menu").clone();t.find(".mega-menu.tabbed-grid-posts").remove(),a.find("li a").removeAttr("data-target").removeAttr("data-deferred-init").removeAttr("data-toggle").removeAttr("data-deferred-event").removeAttr("class"),t.append(a)}}),e(".responsive-header .menu-container .resp-menu .children-button").click(function(){return e(this).closest("li").toggleClass("open-sub"),e(this).find(".fa-angle-down").length?e(this).find(".fa-angle-down").removeClass("fa-angle-down").addClass("fa-angle-up"):e(this).find(".fa-angle-up").removeClass("fa-angle-up").addClass("fa-angle-down"),!1}),e(".responsive-header-container").bsPinning(),e(".better-newsticker").betterNewsticker({control_nav:!0})},setup_menu:function(){e("ul.menu.bsm-pure").addClass("bsm-initialized").removeClass("bsm-pure");var t,a;e(".menu.bsm-initialized li.menu-item-has-children").each(function(){var t=e(this);t.is(":hover")?t.addClass("bsm-enter"):t.addClass("bsm-leave")}),e(document).on("mouseenter","li.menu-item-has-children",function(){var a=e(this),s=a;a.removeClass("bsm-leave"),t=function(){s.closest(".menu-item-has-children").addClass("bsm-enter")},setTimeout(function(){t()},1)}).on("mouseleave","li.menu-item-has-children",function(){var t=e(this),s=t;t.removeClass("bsm-enter"),a=function(){s.addClass("bsm-leave")},setTimeout(function(){a()},200)});var s="#header .main-menu-wrapper, .site-header.header-style-5.full-width > .content-wrap, .site-header.header-style-5.boxed > .content-wrap > .container, .site-header.header-style-6.full-width > .content-wrap, .site-header.header-style-6.boxed > .content-wrap > .container, .site-header.header-style-8.full-width > .content-wrap, .site-header.header-style-8.boxed > .content-wrap > .container",n=e(".site-header").attr("class").match(/header-style-[\w-]*\b/);n&&(e("body").hasClass("main-menu-sticky-smart")?e(s).bsPinning({smart:!0,wrapper_class:"bspw-"+n[0]}):e("body").hasClass("main-menu-sticky")&&e(s).bsPinning({smart:!1,wrapper_class:"bspw-header bspw-"+n[0]}))},setup_sliders:function(){e.fn.flexslider&&(e(".gallery-slider .better-slider").flexslider({namespace:"better-",animation:"fade",controlNav:!1,smoothHeight:!0,animationSpeed:"200",start:function(e){Publisher_Theme.fire_resize()}}).find(".better-control-nav").addClass("square"),e(".bs-shortcode.bs-slider > .better-slider").each(function(){var t=e(this);t.flexslider({namespace:"better-",animation:t.data("animation"),slideshowSpeed:t.data("slideshowSpeed"),animationSpeed:t.data("animationSpeed"),animationLoop:!0,directionNav:!0,pauseOnHover:!0,start:function(e){jQuery(e).find(".better-active-slide").addClass("slider-content-shown"),Publisher_Theme.fire_resize()},before:function(e){jQuery(e).find(".slider-content-shown").removeClass("slider-content-shown")},after:function(e){jQuery(e).find(".better-active-slide").addClass("slider-content-shown")}}).find(".better-control-nav").addClass("circle")}))},setup_video_players:function(){e(".single-featured, .the-content, .sidebar, .post, .bs-embed, .entry-content").fitVids({ignore:".bsp-player > iframe"})},fire_resize:function(){if(document.createEvent){var e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)}else{var t=document.documentElement,a=document.createEventObject();t.fireEvent("onresize",a)}},small_style_fixes:function(){e(".site-header .search-container .search-handler").click(function(){e(this).closest(".main-menu-container").toggleClass("search-open").toggleClass("search-close");var t=e(this).closest(".search-container");t.toggleClass("open").toggleClass("close"),t.hasClass("open")?(e(this).find(".fa").removeClass("fa-search").addClass("fa-close"),t.find(".search-field").focus()):(e(this).find(".fa").addClass("fa-search").removeClass("fa-close"),t.find(".search-field").focusout())}),e(document).on("keyup",function(t){if(27==t.keyCode&&e(".search-container.open").length>0){var a=e(".site-header .search-container"),s=a.find(".search-handler");a.removeClass("open").addClass("close"),e(".main-menu-container.search-open").removeClass("search-open").addClass("search-close"),a.hasClass("open")?(s.find(".fa").removeClass("fa-search").addClass("fa-close"),a.find(".search-field").focus()):(s.find(".fa").addClass("fa-search").removeClass("fa-close"),a.find(".search-field").focusout())}}),e(".site-header .shop-cart-container").hover(function(t){t.preventDefault(),e(this).closest(".main-menu-container").toggleClass("cart-open").toggleClass("cart-close");var a=e(this);a.toggleClass("open").toggleClass("close")}),e(".widget.widget_calendar table td a").each(function(){e(this).parent().addClass("active-day")}),e.browser.msie&&10==e.browser.version&&e("html").addClass("ie ie10"),e('.section-heading.multi-tab a[data-toggle="tab"]').on("shown.bs.tab",function(t){if(e(this).hasClass("active"))return void t.preventDefault();if("undefined"==typeof e(t.target).parent().attr("class"))return!0;var a=e(t.target).closest(".section-heading"),s=e(t.target).find(".h-text").attr("class").split(" "),n="";jQuery.each(s,function(e,t){if(t.match(/main-term-/))return n=t,!1}),jQuery.each(a.attr("class").split(" "),function(e,t){t.match(/main-term-/)&&a.removeClass(t)}),a.addClass(n).find("a.active").removeClass("active"),e(this).addClass("active")}),e('[data-toggle="tab"]').on("shown.bs.tab",function(e){Publisher_Theme.fire_resize()}),e("[data-vc-accordion]").on("show.vc.accordion",function(e){Publisher_Theme.fire_resize()}),e(".panel-collapse").on("shown.bs.collapse",function(e){Publisher_Theme.fire_resize()}),e(".bs-accordion-shortcode .panel-heading a").on("click",function(t){e(this).closest(".panel-heading").hasClass("active")||e(this).closest(".panel").addClass("open")}),e(".panel-collapse").on("hide.bs.collapse",function(t){e(t.target).closest(".panel").removeClass("open")}),e('.bs-listing a[data-toggle="tab"]').on("show.bs.tab",function(t){var a=e(e(this).attr("href"));a.hasClass("active")||(e(this).closest(".bs-listing").find(".tab-pane").removeClass("bs-tab-animated"),a.addClass("bs-tab-animated"))}),e(".tabbed-grid-posts .tabs-section > li > a").click(function(){"#"!=e(this).attr("href")&&(window.location=e(this).attr("href"))}).hover(function(){e(this).tab("show")}),e('.tabbed-grid-posts .tabs-section > li > a[data-toggle="tab"]').on("show.bs.tab",function(t){var a=e(e(this).data("target"));a.hasClass("active")||(e(this).closest(".tabbed-grid-posts").find(".tab-pane").removeClass("bs-tab-animated"),a.addClass("bs-tab-animated"))}),e(".move-to-content .fa").click(function(){e("body,html").animate({scrollTop:e(".content-column").offset().top-25},700)}),e(".post-tp-4-header,.post-tp-5-header").each(function(){var t=e(this),a=e(this).find(".post-header-title");jQuery(window).scroll(function(){var e=jQuery(window).scrollTop(),s=t.height();return e<t.offset().top||e>t.offset().bottom?void a.css({"-webkit-transform":"translate3d(0px, 0px, 0px)"}).css({transform:"translate3d(0px, 0px, 0px)"}).css({opacity:"1"}):void a.css({"-webkit-transform":"translate3d(0px, "+Math.ceil((e-t.offset().top)/5.3)+"px, 0px)"}).css({transform:"translate3d(0px, "+Math.ceil((e-t.offset().top)/5.3)+"px, 0px)"}).css({opacity:(e-s)/333.333*-1})})}),e(".footer-instagram-3 .bs-instagram-photos").simplyScroll({frameRate:70}),e(".remember-label").on("click",function(){e(this).siblings("input[type=checkbox]").click()}),e(".bs-shortcode.bs-login-shortcode").attr("style",""),e(".bs-login .go-login-panel, .bs-login .go-reset-panel").click(function(t){t.preventDefault();var a=e(this).closest(".bs-login-panel"),s=a.siblings(".bs-login-panel");a.removeClass("bs-current-login-panel"),s.addClass("bs-current-login-panel")}),e(".post-share.single-post-share .post-share-btn.post-share-btn-comments").click(function(){e("body,html").animate({scrollTop:e("form.comment-form").offset().top-100},1e3)})},init_sticky_columns:function(){if(e.fn.hcSticky&&!(window.innerWidth<=700)){var t={wrapperClassName:"wrapper-sticky"},a=e([]),s=!1,n=e("body");(n.hasClass("main-menu-sticky-smart")||n.hasClass("main-menu-sticky"))&&(t.top=e("#header .main-menu-wrapper").height()),n.hasClass("active-sticky-sidebar")&&e(window).width()>780&&(a=a.add(e(".wpb_widgetised_column").closest(".wpb_column").not(".sticky-column")),a=a.add(e(".sidebar-column"))),a=a.add(e(".wpb_column.sticky-column")),a.each(function(a,s){var n=e(s),i=e.extend({},t);if(n.hasClass("wpb_column")){var o=["vc_hidden-lg","vc_hidden-md","vc_hidden-sm","vc_hidden-xs",".hidden-lg",".hidden-md",".hidden-sm",".hidden-xs"];o.forEach(function(e){n.hasClass(e)&&(i.wrapperClassName+=" "+e)})}n.hcSticky(i)}),e(window).on("resize.bs-sticky-column",function(){window.innerWidth<=780&&!s&&a.each(function(t,a){e(a).hcSticky("off").hcSticky("destroy").data("hcSticky-destroy",!0).removeAttr("style"),s=!0})})}},betterstudio_editor_shortcodes:function(){e(".bs-accordion-shortcode").on("show.bs.collapse",function(t){e(t.target).prev(".panel-heading").addClass("active")}).on("hide.bs.collapse",function(t){e(t.target).prev(".panel-heading").removeClass("active")})},back_to_top:function(){var t=e(".back-top");0!=t.length&&(t.click(function(){e("body,html").animate({scrollTop:0},700)}),e(window).scroll(function(){switch(e(this).scrollTop()>300?t.addClass("is-visible"):t.removeClass("is-visible fade-out1 fade-out2 fade-out3 fade-out4"),!0){case e(this).scrollTop()>2400:t.addClass("fade-out4");break;case e(this).scrollTop()>1700:t.removeClass("fade-out3").addClass("fade-out3");break;case e(this).scrollTop()>1e3:t.removeClass("fade-out4 fade-out3").addClass("fade-out2");break;case e(this).scrollTop()>500:t.removeClass("fade-out4 fade-out3 fade-out2").addClass("fade-out1")}}))},popup:function(){if(e("body").hasClass("active-light-box")&&e.fn.prettyPhoto&&!(e(window).width()<700)){var t=publisher_theme_global_loc.lightbox.not_classes.split(" "),a=function(){var a=e(this);if(!a.attr("href"))return!1;if("undefined"!=typeof a.data("not-rel"))return!1;var s=!1;return t.length>0&&t.forEach(function(e,t){""!=e&&a.hasClass(e)&&(s=!0)}),!s&&a.attr("href").match(/\.(jp?g|png|bmp|jpeg|gif)$/)};e(".entry-content a,.single-featured a").has("img").filter(a).attr("rel","prettyPhoto");var s=1;e(".entry-content .gallery,.entry-content .tiled-gallery").each(function(){e(this).find("a").has("img").filter(a).attr("rel","prettyPhoto[gallery_"+s+"]"),s++}),e("a[rel^='prettyPhoto']").prettyPhoto(Publisher_Theme.prettyPhotoSettings)}},gallery:function(){if(e.fn.fotorama){jQuery(".fotorama").fotorama({width:"100%",loop:!0,margin:10,thumbwidth:85,thumbheight:62,thumbmargin:9,transitionduration:800,arrows:!1,click:!1,swipe:!0}).on("fotorama:show",function(t,a,s){var n=e(this).closest(".better-gallery");n.find(".count .current").html(a.activeFrame.i)});(e("body").hasClass("active-light-box")&&e.fn.prettyPhoto||e(window).width()<700)&&jQuery(".better-gallery").on("click",".slide-link",function(){event.preventDefault();var t=e(this).closest(".better-gallery"),a=t.data("gallery-id"),s=Publisher_Theme.prettyPhotoSettings;return s.changepicturecallback=function(){e("#gallery-"+a).find(".fotorama").data("fotorama").show(e(".pp_gallery").find("li").index(e(".selected")))},e.fn.prettyPhoto(s),e.prettyPhoto.open(window["prt_gal_img_"+a],window["prt_gal_cap_"+a],window["prt_gal_cap_"+a]),e.prettyPhoto.changePage(e("#gallery-"+a).find(".fotorama").data("fotorama").activeFrame.i-1),!1}),jQuery(".better-gallery .gallery-title .next").click(function(){var t=e(this).closest(".better-gallery").find(".fotorama").data("fotorama");t.show(">")}),jQuery(".better-gallery .gallery-title .prev").click(function(){var t=e(this).closest(".better-gallery").find(".fotorama").data("fotorama");t.show("<")})}},bsPrettyTabs:function(){if("enable"===publisher_theme_global_loc.main_menu.more_menu){var t=e("#header").hasClass("header-style-6"),a='<a href="#" class="bs-pretty-tabs-more">';t&&(a+='<i class="bf-icon fa fa-bars" aria-hidden="true"></i>'),a+=publisher_theme_global_loc.translations.tabs_more+'</a><ul class="sub-menu bs-pretty-tabs-elements"></ul>',e("#main-navigation").parent().bsPrettyTabs({menuContainerPosition:"end",menuContainerTag:"li",itemsWrapperSelector:"#main-navigation",moreContainer:a,initWrapperContainer:function(e){return e.addClass("menu-item-has-children better-anim-fade"),t&&e.addClass("menu-have-icon menu-icon-type-fontawesome"),e},styleChangesAt:[992,780]})}e(".section-heading.multi-tab").bsPrettyTabs({moreContainer:'<a href="#" class="bs-pretty-tabs-more other-link"><span class="h-text">'+publisher_theme_global_loc.translations.tabs_all+' <i class="fa fa-caret-down" aria-hidden="true"></i></span></a><div class="bs-pretty-tabs-elements"></div>',mustDisplayClass:"main-link",getContainerWidth:function(e){return.8*e}})},bsPagination:function(t){e.fn.Better_Ajax_Pagination&&e(".bs-ajax-pagination",t).parent().Better_Ajax_Pagination()},initDeferredElements:function(){if(e.fn.Better_Deferred_Loading){var t=this;e.fn.Better_Deferred_Loading({afterSuccessDeferredAjax:function(e){t.bsPagination(e)}})}},handleAjaxifiedComments:function(){e(document).on("click",".comment-ajaxified-placeholder",function(t){t.preventDefault();var a=e(this),s=a.closest(".comments-template");a.hide();var n=e("<div></div>",{class:"deferred-loading-container",height:40});n.append('<div class="bs-pagin-loading-wrapper">'+publisher_theme_global_loc.loading+"</div>"),n.appendTo(s),e.ajax({url:publisher_theme_global_loc.ajax_url,type:"post",dataType:"json",data:e.extend(a.data(),{action:"ajaxified-comments"})}).done(function(t){s.replaceWith(t.rawHTML),e(".deferred-loading-container",s).remove(),e(document).trigger("ajaxified-comments-loaded",[s,t])})})},handleInfinitySinglePostLoading:function(t){function a(){e(c).length||e("<div></div>",{id:c}).appendTo(d)}function s(t,a){t.data("post-permalink",a.permalink),t.data("post-id",a.post_id);var s=t.attr("id");m.on("enter","#"+s,function(t){var a=e(t),s=a.data("post-id"),n=a.data("post-permalink");return l!==s&&(n&&history.pushState({},void 0,n),void(l=s))})}function n(a){o();var n=e(a),l=e("<div></div>",{class:"deferred-loading-container",height:200});l.append('<div class="bs-pagin-loading-wrapper">'+publisher_theme_global_loc.loading+"</div>"),l.appendTo(n),r&&r.abort(),r=e.ajax({url:publisher_theme_global_loc.ajax_url,type:"post",dataType:"json",data:{action:"ajax-get-post",post_ID:t,loaded_posts:p}}).done(function(t){if(e(".deferred-loading-container",n).remove(),t.rawHTML&&n.before(t.rawHTML),t.post_id&&p.push(t.post_id),t.haveNext&&i(),f.setup_post(),t.post_id){var a=n.prev(),o="_post-id-"+t.post_id;a.attr("id",o),s(a,t)}if("function"==typeof ga){var r=e("<a></a>",{href:t.permalink});ga("send","pageview",r[0].pathname)}})}function i(){u.on("enter","#"+c,n)}function o(){u.off("enter","#"+c)}if(e("body").hasClass("single")&&e("body").hasClass("infinity-related-post")&&"function"==typeof OnScreen){var r,l,c="infinity-single-post-loading",d=e(".content-column"),h=d.find(".single-post-content"),p=[parseInt(h.attr("id").replace(/[^0-9\.]/g,""))],f=this,u=new OnScreen({tolerance:-500,container:window}),m=new OnScreen({tolerance:100,container:window});a(),i(),h.attr("id","_post-id-"+t),s(h,{permalink:window.location.href,post_id:t})}},setup_post:function(){this.gallery(),this.setup_sliders(),this.setup_video_players(),this.small_style_fixes(),this.init_sticky_columns(),this.betterstudio_editor_shortcodes(),this.setup_menu(),this.popup(),this.fix_element_query(),this.bsPrettyTabs(),this.bsPagination(),this.initDeferredElements()},woo_commerce:function(){var t=!1;e(".woocommerce div.product .woocommerce-tabs ul.tabs li").bind("cssClassChanged",function(){1!=t&&(t=!0,e(this).hasClass("active")&&(e(this).closest("ul.tabs").find("a.active").removeClass("active"),e(this).find("a").addClass("active")),t=!1)}),e(window).on("added_to_cart",function(t,a,s){"undefined"!=typeof a["total-items-in-cart"]&&e(".main-menu-container .shop-cart-container").length>=1&&(e(".main-menu-container .shop-cart-container .cart-handler .cart-count").length<1?e(".main-menu-container .shop-cart-container .cart-handler").append('<span class="cart-count">'+a["total-items-in-cart"]+"</span>"):e(".main-menu-container .shop-cart-container .cart-handler .cart-count").html(a["total-items-in-cart"]))})},visual_composer:function(){function e(){var e=jQuery('[data-vc-full-width="true"]');jQuery.each(e,function(){var e=jQuery(this);e.css("right",e.css("left")).css("left","")})}this.is_rtl()&&(jQuery(document).on("vc-full-width-row",function(){e()}),e())}}}(jQuery);jQuery(document).ready(function(){var e=function(e){return{wrapperSelector:".main-menu-container .search-container",$wrapper:!1,_xhr:!1,prevSearchQuery:!1,_doingAjax:!1,localize:e.extend({ajax_url:!1,previewMarkup:!1},publisher_theme_ajax_search_loc),ajaxRequestDelay:300,EL:{INPUT:"search-field",PREVIEW:"search-preview",LOADING:"ajax-search-loading"},init:function(){this.$wrapper=e(this.wrapperSelector),this.prepareMarkup(),this.bindEvents()},prepareMarkup:function(){var t=this.findElements(this.EL.PREVIEW);t.length||(t=e("<div/>",{class:this.EL.PREVIEW}).appendTo(this.$wrapper),this.localize.previewMarkup&&t.html(this.localize.previewMarkup));var a=this.findElements(this.EL.LOADING);a.length||(this._createLoadingELement().appendTo(this.$wrapper.find(".search-handler")).hide(),this._addLoadingInPreview())},_createLoadingELement:function(){return e("<i/>",{class:"fa fa-refresh fa-spin fa-fw ajax-loading-icon"})},_addLoadingInPreview:function(){if(!this._doingAjax){var t,a=e("<span/>",{class:this.EL.LOADING}),s=this.findSections(this.EL.PREVIEW);a.html('<i class="fa fa-refresh fa-spin fa-fw ajax-loading-icon"></i>');for(t in s)s[t].html(" "),a.clone().appendTo(s[t])}},_ajax:function(t,a,s){var n=this,i=e.extend({url:this.localize.ajax_url,data:e.extend({action:"ajaxified-search"},a)},s);return n._doingAjax=!0,e.ajax({url:i.url,type:"POST",dataType:"json",data:i.data}).done(function(){n._doingAjax=!1,t.apply(this,arguments)})},findElements:function(e){return this.$wrapper.find("."+e)},findSections:function(t){var a;if(a=t?this.findElements(t):this.$wrapper){var s={};return e("[data-section-name]",a).each(function(){var t=e(this),a=t.data("section-name");a&&(s[a]=t)}),s}return!1},listSections:function(){var e=this.findSections();return e?Object.keys(e):[]},bindEvents:function(){var t=this;t.findElements(this.EL.INPUT).on("keyup.ajax-search",function(a){if(!a.ctrlKey&&!a.metaKey){var s=e.trim(this.value);s!==t.prevSearchQuery&&(t.handleUserSearch.call(t,this),t.prevSearchQuery=s)}})},hidePreviewSection:function(){e(".bs-pinning-wrapper").removeClass("stop-smarty-pinning");var t=e("#header .bs-pinning-block");t.hasClass("pinned")&&t.removeClass("pinned top normal").addClass("unpinned")},showPreviewSection:function(){e(".bs-pinning-wrapper").addClass("stop-smarty-pinning")},handleUserSearch:function(e){var t=e.value,a=this;t?(a.triggerLoading("on"),a._xhr&&a._xhr.abort(),a.$wrapper.finish().delay(a.ajaxRequestDelay).queue(function(){a._xhr=a._ajax(function(e){a.appendHTML(e),a.triggerLoading("off")},{s:t,sections:a.listSections(),full_width:a.localize.full_width})})):a.hidePreviewSection()},bindCloseEvent:function(){var t=(e(document),this);this.findElements(this.EL.PREVIEW).on("click.ajax-search",function(e){e.stopPropagation()}),e(".search-container .search-handler").on("click",function(a){e(".search-container").hasClass("open")||t.$wrapper.hasClass("result-results-exist")&&t.showPreviewSection()})},appendHTML:function(e){if("object"==typeof e.sections){var t=this.findSections(this.EL.PREVIEW);if(t){var a;for(a in t)"string"==typeof e.sections[a]&&t[a].html(e.sections[a]);this.$wrapper.addClass("result-results-exist")}}this.bindCloseEvent()},triggerLoading:function(t){var a="on"===t,s=this.findElements(this.EL.LOADING);s[a?"show":"hide"]();var n=e(".ajax-loading-icon",this.$wrapper);n[a?"show":"hide"](),n.siblings()[a?"hide":"show"](),a&&(this.showPreviewSection(),this._addLoadingInPreview())}}}(jQuery);Publisher_Theme.init(),jQuery("body").hasClass("active-ajax-search")&&e.init()}),"function"==typeof OnScreen&&(bsrj_retinajs(document.querySelectorAll(".site-header img#site-logo")),bsrj_retinajs(document.querySelectorAll(".responsive-header .logo-container img")),bsrj_retinajs(document.querySelectorAll(".bs-subscribe-newsletter .powered-by img")));